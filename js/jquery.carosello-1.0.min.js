/*
 * Carosello v1.0
 * https://github.com/dubrox/Carosello
 * 
 * Copyright 2013, Luca Lauretta
 * Dual licensed under the MIT or GPL version 2 licenses.
 */
(function(e){e.fn.carosello=function(t){t=t||{};var n=t.showing_class||"showing";var r=t.autoplay||false;var i=t.animationSpeed||200;return this.each(function(){var t=e(this);var s=t.find(".c-contents").first();var o=s.children();var u=t.find(".c-index").first();var a=u.find(".c-pointer").first().clone();var f=o.size();var l=function(t){t=Math.abs(Math.round(t))%f;u.find(".c-pointer").removeClass(n).eq(t).addClass(n);o.removeClass(n).eq(t).fadeIn(i).addClass(n);o.each(function(n){if(n<t){e(this).show()}else if(n>t&&n!==f-1){e(this).hide()}else if(n!==t&&n===f-1){e(this).fadeOut(i)}})};var c=function(e){var t=o.filter("."+n).removeClass(n);o.each(function(n){if(this==t[0]){l(n+e)}})};t.find(".c-previous").click(function(){c(-1)});t.find(".c-next").click(function(){c(1)});u.find(".c-pointer").remove();o.each(function(t){var n=a.clone();var r=e.trim(n.find("a").text());n.find("a").text(e(this).find(r).text());n.click(function(){l(t)});u.append(n)});l(0);if(r){setInterval(function(){c(1)},r)}})}})(jQuery);